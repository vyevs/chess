generally clean up all the field setting stuff in move generation functions

write case where pawn captures AND promotes